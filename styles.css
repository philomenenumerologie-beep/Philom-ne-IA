/* ===== Tokens (clone style GPT, glow violet) ===== */
:root{
  --bg:#0c0c11;
  --panel:#141420;
  --panel-2:#10101a;
  --text:#e9e9f1;
  --text-dim:#b9b9c9;
  --accent:#8b5cf6;        /* violet */
  --accent-2:#a78bfa;
  --line:#232334;
  --good:#22c55e;
  --pill-bg:#1a1a26;
  --chip:#1b1b29;
  --chip-2:#222235;
  --shadow: 0 0 0.75rem rgba(139,92,246,.3), 0 0 2.2rem rgba(139,92,246,.18);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text); background:var(--bg);
  font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
}

/* ===== Header ===== */
#topbar{
  position:sticky; top:0; z-index:50;
  display:grid; grid-template-columns:1fr auto 1fr; align-items:center;
  padding:10px 12px; background:linear-gradient(180deg, #0c0c11f2, #0c0c1100);
  backdrop-filter:saturate(1.2) blur(6px);
  border-bottom:1px solid var(--line);
}
#topbar .left, #topbar .right{display:flex; gap:8px; align-items:center}
#topbar .center{display:flex; justify-content:center}

.pill{
  padding:10px 14px; border-radius:14px; background:var(--pill-bg);
  color:var(--text); border:1px solid #24243a; box-shadow: var(--shadow);
}
.icon-btn{
  padding:10px 12px; border-radius:12px; background:var(--pill-bg);
  color:var(--text); border:1px solid #24243a;
}
.diamond{display:flex; gap:8px; align-items:center}
.diamond .icon{filter:drop-shadow(0 0 10px rgba(167,139,250,.6))}

/* Sous-titre version */
#subtitle{
  display:flex; gap:10px; align-items:center;
  padding:6px 14px 8px; border-bottom:1px solid var(--line);
}
.status-dot{width:10px;height:10px;border-radius:50%;background:var(--good);box-shadow:0 0 10px var(--good)}
.brand{color:var(--text-dim)}

/* ===== Chat ===== */
#chat{height:calc(100dvh - 150px); overflow:auto; padding:14px 14px 120px}
.chat-body{display:flex; flex-direction:column; gap:14px}
.msg{
  max-width:92%; padding:14px 16px; border-radius:16px; letter-spacing:.1px;
  background: var(--panel); border:1px solid #1e1e30; box-shadow: var(--shadow);
}
.msg.user{align-self:flex-end; background:linear-gradient(180deg,#1e1931,#1a142a); border-color:#2a2342}
.bubble-meta{opacity:.65; font-size:.84rem; margin-top:4px}

/* ===== Composer ===== */
#composer{
  position:fixed; left:0; right:0; bottom:0; z-index:40;
  display:flex; gap:10px; align-items:center; padding:10px 12px 14px;
  background:linear-gradient(0deg,#0c0c11 70%, #0c0c1100);
  border-top:1px solid var(--line);
}
.plus{width:44px;height:44px;border-radius:12px;background:var(--pill-bg);color:var(--text);border:1px solid #24243a}
.input-wrap{
  display:flex; align-items:center; gap:8px; flex:1;
  background:var(--panel); border:1px solid #23233a; border-radius:16px;
  padding:8px 10px; box-shadow: var(--shadow);
}
.input-wrap input{
  flex:1; background:transparent; border:0; outline:none; color:var(--text); font-size:16px;
}
.input-wrap .ghost{padding:8px 10px;border-radius:10px;background:transparent;color:var(--text-dim);border:1px solid #2a2a40}
.send{
  width:54px;height:54px;border-radius:16px; background:var(--accent);
  color:white; border:0; box-shadow: 0 6px 26px rgba(139,92,246,.45);
}
.send:disabled{opacity:.6}

/* ===== Sheet (+) ===== */
.sheet{position:fixed; inset:0; background:rgba(0,0,0,.45); display:flex; align-items:flex-end}
.sheet-card{
  width:100%; background:var(--panel-2); border-top-left-radius:18px; border-top-right-radius:18px;
  border-top:1px solid #2a2a40; padding:14px; box-shadow:0 -10px 30px rgba(0,0,0,.4);
}
.sheet-title{font-weight:600; margin-bottom:10px}
.sheet-grid{display:flex; gap:10px; flex-wrap:wrap}
.chip{
  padding:10px 14px; border-radius:12px; background:var(--chip); border:1px solid #2a2a3f; color:var(--text);
}
.chip.ghost{background:transparent}

/* ===== Menu burger ===== */
.menu{position:absolute; right:12px; top:56px; background:var(--panel); border:1px solid #272742; border-radius:12px; box-shadow:var(--shadow)}
.menu-item{display:block; padding:12px 14px; background:transparent; color:var(--text); border:0; width:200px; text-align:left}
.menu-item+.menu-item{border-top:1px solid #23233a}

/* ===== Modale ===== */
.modal{position:fixed; inset:0; background:rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center}
.modal-card{
  width:min(92vw,540px); background:var(--panel); border:1px solid #272742;
  border-radius:16px; box-shadow: var(--shadow);
}
.modal-head{display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid #24243a}
.modal-title{font-weight:700}
.modal-content{padding:14px}
.modal-actions{padding:12px 14px; display:flex; gap:10px; justify-content:flex-end; border-top:1px solid #24243a}
.btn{padding:10px 14px; border-radius:12px; border:1px solid #2a2a40; background:var(--chip-2); color:var(--text)}
.btn.primary{background:var(--accent); color:white; border-color:transparent}

/* ===== Light theme (toggle conserve dark par d√©faut) ===== */
body.theme-light{
  --bg:#f4f6fb; --panel:#ffffff; --panel-2:#fbfbff; --text:#0e0e14; --text-dim:#4a4a62; --line:#e6e6f2;
  --pill-bg:#f1f2fa; --chip:#f2f3fd; --chip-2:#eef0fb; --shadow: 0 0 1.2rem rgba(139,92,246,.3), 0 0 3.2rem rgba(139,92,246,.18);
}
