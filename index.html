<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PhilomÃ¨ne I.A.</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Clerk -->
  <script async crossorigin="anonymous"
    data-clerk-publishable-key="TODO_REPLACE_WITH_YOUR_CLERK_PUBLISHABLE_KEY"
    src="https://cdn.clerk.dev/clerk.js"></script>
</head>
<body class="dark">
  <!-- TOP BAR -->
  <header class="topbar">
    <div class="left">
      <button id="burger" class="btn ghost">â˜°</button>
      <div class="brand">
        <span class="logo">ğŸ¤</span>
        <span class="name">PhilomÃ¨ne I.A.</span>
      </div>
    </div>
    <div class="center">
      <div class="pill">
        <span class="moon">ğŸŒ™</span>
      </div>
      <div class="pill">
        <span class="diamond">ğŸ’</span>
        <span id="tokens-top">0</span>
      </div>
      <button id="authBtn" class="btn solid">
        <div class="big">ğŸ” Connexion / Inscription</div>
        <div class="sub" id="authSub">SÃ©curisÃ©</div>
      </button>
      <button id="themeBtn" class="btn ghost">ğŸŒ“</button>
    </div>
    <div class="right">
      <button id="menuBtn" class="btn ghost">â‰¡</button>
    </div>
  </header>

  <!-- SIDE MENU -->
  <aside id="sideMenu" class="side hidden">
    <div class="side-head">
      <div class="title">Menu</div>
      <button id="closeSide" class="btn ghost">âœ•</button>
    </div>
    <ul class="list">
      <li><button id="openFAQ" class="row">â“ Aide / FAQ</button></li>
      <li><button id="openJournal" class="row">ğŸ“° Journal (AFA)</button></li>
      <li><button id="buyTokens" class="row">ğŸ’³ Acheter des tokens (PayBall)</button></li>
      <li><button id="signOut" class="row">ğŸšª DÃ©connexion</button></li>
    </ul>
  </aside>

  <!-- JOURNAL PANEL -->
  <aside id="journal" class="drawer hidden">
    <div class="drawer-head">
      <div class="title">Journal â€“ Flux</div>
      <button id="closeJournal" class="btn ghost">âœ•</button>
    </div>
    <div class="drawer-body">
      <p>ğŸ§  MÃ©mo (local) : vos derniers sujets sont listÃ©s ici.</p>
      <ul id="memoList" class="memo"></ul>
    </div>
  </aside>

  <!-- PAYBALL MODAL (mock prÃªt Ã  brancher) -->
  <div id="payball" class="modal hidden">
    <div class="card">
      <div class="card-head">
        <div class="title">Acheter des tokens</div>
        <button id="closePay" class="btn ghost">âœ•</button>
      </div>
      <div class="grid">
        <button class="pack" data-pack="5">ğŸ’ 70 000 â€” 5 â‚¬</button>
        <button class="pack" data-pack="10">ğŸ’ 150 000 â€” 10 â‚¬</button>
        <button class="pack" data-pack="20">ğŸ’ 320 000 â€” 20 â‚¬</button>
      </div>
      <p class="promo">ğŸ 1er achat = x2 tokens</p>
      <p class="hint">TODO: brancher Stripe/PayPal ici (webhook + crÃ©dit).</p>
    </div>
  </div>

  <!-- CHAT -->
  <main id="chat" class="chat">
    <div class="bubble a">
      Bonjour ğŸ‘‹ Je suis PhilomÃ¨ne I.A., propulsÃ©e par <b>GPT-5 Thinking</b>.<br><br>
      ğŸ Nouveaux : 1000 tokens offerts + bonus Ã  lâ€™inscription. Pose ta premiÃ¨re question !
    </div>
  </main>

  <!-- INPUT BAR -->
  <footer class="input">
    <div class="input-row">
      <div class="plus-wrap">
        <div id="plusMenu" class="plus-menu">
          <button class="tool" id="toolMic" title="Micro">ğŸ¤</button>
          <button class="tool" id="toolPhoto" title="Appareil photo">ğŸ“·</button>
          <button class="tool" id="toolDoc" title="Document">ğŸ“„</button>
          <button class="tool" id="toolJournal" title="Journal">ğŸ“°</button>
          <button class="tool" id="toolPay" title="PayBall">ğŸ’³</button>
        </div>
        <button id="plusBtn" class="btn plus">+</button>
      </div>

      <input id="msg" type="text" placeholder="Ã‰crivez votre messageâ€¦" autocomplete="off" />
      <button id="send" class="btn send">â¤</button>
    </div>
    <div class="status">
      <span>PrÃªt â€¢ <b id="tokens-bottom">0</b> tokens restants</span>
      <span id="net" class="net"></span>
    </div>
  </footer>

  <!-- HIDDEN INPUTS -->
  <input id="filePicker" type="file" accept=".pdf,.txt,.md,.doc,.docx,image/*" hidden />
  <audio id="recorder" hidden></audio>

  <script src="app.js"></script>
</body>
</html>
