<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Philom√®ne IA ‚Äì Accueil</title>
  <meta name="description" content="Philom√®ne IA ‚Äî ton assistante IA personnelle. Pose tes questions, envoie des photos, et g√®re tes tokens.">
  <!-- Clerk -->
  <script async crossorigin="anonymous"
          data-clerk-publishable-key="pk_test_ZW5...REMPLACE_ICI..."
          src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest">
  </script>

  <style>
    :root{
      --bg:#071826; --panel:#0e2238; --text:#eaf2f8; --muted:#9fb7c7;
      --accent:#3fb0ff; --accent-2:#5cf2a1; --chip:#133a5a; --danger:#f15b5b;
      --btn:#1b3c58; --shadow:0 10px 30px rgba(0,0,0,.25);
    }
    [data-theme="light"]{
      --bg:#f4f7fb; --panel:#ffffff; --text:#0f2234; --muted:#4e6b82;
      --accent:#0067ff; --accent-2:#0bbd87; --chip:#eaf2ff; --danger:#bf2a2a;
      --btn:#e9f1ff; --shadow:0 10px 30px rgba(0,0,0,.08);
    }
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text); font-family:system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
    }
    .wrap{max-width:980px; margin:0 auto; padding:24px}
    header{display:flex; align-items:center; justify-content:space-between; gap:16px;}
    .brand{display:flex; align-items:center; gap:14px}
    .brand .logo{width:34px; height:34px; filter:drop-shadow(0 4px 6px rgba(0,0,0,.25))}
    h1{margin:0; font-size:36px; letter-spacing:.2px}
    .toggles{display:flex; gap:8px}
    .chip{
      background:var(--chip); color:var(--text); border:1px solid rgba(255,255,255,.08);
      padding:10px 14px; border-radius:14px; display:inline-flex; align-items:center; gap:10px;
    }
    .actions{display:flex; flex-wrap:wrap; gap:10px}
    .btn{
      background:var(--btn); color:var(--text); border:1px solid rgba(255,255,255,.12);
      padding:12px 16px; border-radius:12px; cursor:pointer; transition:.15s transform, .15s opacity;
    }
    .btn:hover{transform:translateY(-1px)}
    .btn.primary{background:var(--accent); color:white; border:none}
    .btn.green{background:var(--accent-2); color:#032217; border:none}
    .hero{
      margin-top:22px; padding:28px; border-radius:18px; background:var(--panel); box-shadow:var(--shadow);
    }
    .hero p{margin:10px 0 0; color:var(--muted); font-size:18px}
    .grid{display:grid; gap:16px; grid-template-columns:repeat(12, 1fr); margin-top:24px}
    .card{
      grid-column:span 12; background:var(--panel); border-radius:16px; padding:18px; border:1px solid rgba(255,255,255,.06)
    }
    .card h3{margin:8px 0 6px}
    .price{font-weight:700}
    .badges{display:flex; gap:8px; flex-wrap:wrap}
    .badge{background:var(--chip); border:1px solid rgba(255,255,255,.08); padding:6px 10px; border-radius:10px; font-size:13px}
    .footer{margin:28px 0 6px; text-align:center; color:var(--muted); font-size:14px}
    .models{display:flex; gap:12px; flex-wrap:wrap; margin-top:8px}
    .models .badge b{font-weight:700}
    .notice{background:#082034; border:1px dashed rgba(255,255,255,.12); padding:12px 14px; border-radius:12px; color:var(--muted)}
    .controls{display:flex; flex-wrap:wrap; gap:10px}
    @media (min-width:760px){
      .card.span-7{grid-column:span 7}
      .card.span-5{grid-column:span 5}
      .card.span-4{grid-column:span 4}
      .card.span-8{grid-column:span 8}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <img class="logo" alt="logo" src="https://em-content.zobj.net/source/apple/391/brain_1f9e0.png">
        <h1>Philom√®ne IA</h1>
      </div>
      <div class="toggles">
        <button id="themeBtn" class="chip" title="Th√®me clair/sombre">‚òÄÔ∏è / üåô</button>
        <div class="chip" style="padding:8px 10px">
          <select id="langSel" class="btn" style="padding:8px 10px">
            <option value="fr" selected>Fran√ßais</option>
            <option value="en">English</option>
            <option value="nl">Nederlands</option>
          </select>
        </div>
        <button id="printBtn" class="chip">üñ®Ô∏è Imprimer</button>
      </div>
    </header>

    <section class="hero">
      <div class="controls" style="justify-content:space-between">
        <div>
          <div class="chip">Connect√© s√©curis√© via Clerk ‚úÖ</div>
        </div>
        <div class="actions">
          <button id="signupBtn" class="btn">Cr√©er un compte</button>
          <button id="signinBtn" class="btn">Se connecter</button>
          <a class="btn primary" href="/messenger">Ouvrir Messenger</a>
        </div>
      </div>

      <p style="margin-top:16px">
        Philom√®ne IA est ton assistante personnelle. Pose tes questions, envoie des photos
        pour un diagnostic, imprime les r√©ponses utiles, et suis ta consommation de tokens en direct.
      </p>
    </section>

    <section class="grid">
      <div class="card span-7">
        <h3>Ce que tu peux faire üîß</h3>
        <ul>
          <li>Questions g√©n√©rales, r√©sum√©s, corrections, r√©daction professionnelle.</li>
          <li>Envoi de <b>photos</b> (pannes, messages d‚Äôerreur, documents) pour analyse.</li>
          <li>Suivi de <b>tokens</b> consomm√©s et restants.</li>
          <li>Mode clair/sombre, impression en 1 clic, fran√ßais/anglais/n√©erlandais.</li>
        </ul>
        <div class="notice" style="margin-top:8px">
          Conseil: cr√©e un compte puis ouvre Messenger. Tes sessions sont sauvegard√©es et
          le mod√®le se souvient du contexte de la conversation.
        </div>
      </div>

      <div class="card span-5">
        <h3>Mod√®les & tarification üí°</h3>
        <div class="models">
          <span class="badge"><b>Gratuit</b> ‚Ä¢ GPT-3.5 (limit√©)</span>
          <span class="badge"><b>Payant</b> ‚Ä¢ GPT-4 Turbo & Vision</span>
        </div>
        <p style="margin-top:6px">
          √Ä l‚Äôinscription: <b>5 000 tokens offerts</b> sur GPT-4 Turbo.
          Ensuite, ach√®te des packs au besoin. L‚Äôapp affiche le co√ªt r√©el par requ√™te,
          bas√© sur les tokens input/output (estimation proche d‚ÄôOpenAI).
        </p>
        <p class="price">Exemples de packs: 5‚Ç¨ ‚Üí 70k ‚Ä¢ 10‚Ç¨ ‚Üí 150k ‚Ä¢ 20‚Ç¨ ‚Üí 320k</p>
      </div>

      <div class="card span-4">
        <h3>S√©curit√© üîí</h3>
        <p>Authentification via Clerk, transport chiffr√©, journalisation minimale c√¥t√© serveur,
          et CORS stricts. Les contenus sensibles ne sont pas conserv√©s au-del√† du n√©cessaire.</p>
      </div>

      <div class="card span-8">
        <h3>FAQ rapide ‚ùì</h3>
        <p><b>Pourquoi ‚ÄúSe connecter‚Äù ne marchait pas ?</b> Parce qu‚Äôun lien brut vers <code>/sign-in</code>
           exige une page/route c√¥t√© front. Ici, on ouvre les <b>modales Clerk</b>, qui ne n√©cessitent
           aucune route et fonctionnent partout.</p>
        <p style="margin-top:8px"><b>Je veux des pages compl√®tes de connexion.</b>
           Pas de souci: on peut aussi utiliser les pages h√©berg√©es par Clerk via des URLs
           publiques. Dis-le moi si tu pr√©f√®res cette option.</p>
      </div>
    </section>

    <div class="footer">¬© 2025 Philom√®ne IA ‚Äî Tous droits r√©serv√©s</div>
  </div>

  <script>
    // Th√®me
    const themeBtn = document.getElementById('themeBtn');
    themeBtn.addEventListener('click', () => {
      const html = document.documentElement;
      html.setAttribute('data-theme', html.getAttribute('data-theme') === 'light' ? 'dark' : 'light');
    });

    // Impression
    document.getElementById('printBtn').addEventListener('click', () => window.print());

    // Langue (placeholder ‚Äî √† brancher si tu veux i18n complet)
    document.getElementById('langSel').addEventListener('change', (e) => {
      localStorage.setItem('phi_lang', e.target.value);
      alert('Langue choisie: ' + e.target.value + ' (UI statique pour le moment)');
    });

    // Clerk (modales)
    window.addEventListener('load', async () => {
      await window.Clerk.load();
      const signinBtn = document.getElementById('signinBtn');
      const signupBtn = document.getElementById('signupBtn');

      signinBtn.addEventListener('click', () => {
        window.Clerk.openSignIn({
          appearance: { variables: { colorPrimary: getComputedStyle(document.documentElement).getPropertyValue('--accent') } },
          redirectUrl: "/messenger"
        });
      });

      signupBtn.addEventListener('click', () => {
        window.Clerk.openSignUp({
          appearance: { variables: { colorPrimary: getComputedStyle(document.documentElement).getPropertyValue('--accent') } },
          redirectUrl: "/messenger"
        });
      });
    });
  </script>
</body>
</html>
