<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Oracle ‚Ä¢ Philomenia</title>
  <style>
    body{margin:0;background:#13001f;color:#fff;font-family:Inter,system-ui,Arial}
    .wrap{max-width:800px;margin:0 auto;padding:56px 20px}
    h1{font-size:2.4rem;margin:0 0 12px;color:#e6b6ff}
    p.lead{opacity:.85;margin:0 0 24px}
    .card{background:#1e0530;border:1px solid #3b0e5a;border-radius:16px;padding:18px 16px;margin-top:18px}
    label{display:block;margin:0 0 8px;font-weight:600}
    textarea{width:100%;min-height:96px;border-radius:12px;border:1px solid #4a176f;background:#170427;color:#fff;padding:12px;font-size:16px;outline:none}
    .row{display:flex;gap:10px;align-items:center;margin-top:12px;flex-wrap:wrap}
    button{background:#6a0dad;border:0;color:#fff;padding:12px 18px;border-radius:999px;font-weight:700;cursor:pointer}
    button:disabled{opacity:.6;cursor:default}
    .ghost{background:transparent;border:1px solid #6a0dad}
    .out{margin-top:16px;line-height:1.5}
    .muted{opacity:.7}
    .loader{display:none;margin-left:8px;border:2px solid #ffffff33;border-top:2px solid #fff;border-radius:50%;width:16px;height:16px;animation:spin 1s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}
    a{color:#caa8ff;text-decoration:none}
  </style>
</head>
<body>script>
document.querySelector("button").addEventListener("click", async () => {
  const question = document.querySelector("textarea").value.trim();
  if (!question) return alert("√âcris ta question ‚ú®");
  const res = await fetch("https://philo-backend-cfxz.onrender.com/ask", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ ia: "oracle", question })
  });
  const data = await res.json();
  document.querySelector("#response").textContent = data.answer || "Aucune r√©ponse üòï";
});
</script>
  <div class="wrap">
    <h1>üîÆ Oracle</h1>
    <p class="lead">Pose ta question. L‚ÄôOracle te r√©pond avec sagesse instantan√©e.</p>

    <div class="card">
      <label for="q">Ta question</label>
      <textarea id="q" placeholder="Ex. : Est-ce le bon moment pour lancer mon projet ?"></textarea>
      <div class="row">
        <button id="askBtn">Interroger l‚ÄôOracle <span class="loader" id="spin"></span></button>
        <a class="ghost" href="index.html"><button class="ghost" type="button">‚Üê Retour √† l‚Äôaccueil</button></a>
      </div>
      <div class="out" id="out"></div>
      <p class="muted" style="margin-top:10px">*R√©ponse g√©n√©r√©e c√¥t√© navigateur (d√©mo). On branchera l‚ÄôIA ensuite.</p>
    </div>
  </div>

  <script>
    const answers = [
      "Oui ‚Äî mais garde le cap et reste simple.",
      "Pas encore. Pr√©pare un peu plus, puis fonce.",
      "La r√©ponse est en toi : commence petit aujourd‚Äôhui.",
      "Oui, si tu acceptes d‚Äôapprendre en chemin.",
      "Attends un signe concret (message, appel, opportunit√©) et d√©marre.",
      "Clarifie l‚Äôintention, puis agis. Les portes s‚Äôouvriront.",
      "Non pour l‚Äôinstant. Revois le plan et all√®ge-le."
    ];
    const notes = [
      "Fais un pas concret dans les 24h.",
      "Supprime une chose qui te freine.",
      "Demande un avis √† une personne neutre.",
      "Choisis la version la plus l√©g√®re du plan.",
      "√âcris une checklist de 3 points et ex√©cute-les."
    ];
    const askBtn = document.getElementById('askBtn');
    const spin = document.getElementById('spin');
    const out = document.getElementById('out');
    const q = document.getElementById('q');

    function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

    askBtn.onclick = async () => {
      const text = (q.value || "").trim();
      if (!text){ q.focus(); return; }
      askBtn.disabled = true; spin.style.display = 'inline-block'; out.innerHTML = "";

      // petite attente pour l‚Äôeffet
      await new Promise(r=>setTimeout(r, 700));

      const stamp = new Date().toLocaleString('fr-FR',{weekday:'long',hour:'2-digit',minute:'2-digit'});
      const base = pick(answers);
      const tip = pick(notes);
      out.innerHTML = `
        <div><strong>Question :</strong> ${text.replace(/</g,"&lt;")}</div>
        <div style="margin-top:8px"><strong>Oracle :</strong> ${base}</div>
        <div class="muted" style="margin-top:8px">Conseil : ${tip}</div>
        <div class="muted" style="margin-top:6px">‚è±Ô∏è ${stamp}</div>
      `;
      askBtn.disabled = false; spin.style.display = 'none';
    };
  </script>
</body>
</html>
