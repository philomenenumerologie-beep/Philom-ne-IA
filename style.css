/* Base */
*{box-sizing:border-box}
:root{
  --bg:#0e0e12; --bg-2:#141420; --fg:#eaeaea; --muted:#bfbfd6;
  --accent:#7a52ff; --accent-2:#6b46ff3d; --ring:#9a7dff;
  --card:#11111a; --border:#29233f;
}
body{margin:0;font:16px/1.4 system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--fg);}

/* Light mode */
body.light{ --bg:#f6f6fb; --bg-2:#ffffff; --fg:#16161d; --muted:#4a4a68; --card:#ffffff; --border:#e6e6f2; }

/* Topbar */
.topbar{position:sticky;top:0;z-index:20;display:flex;justify-content:space-between;align-items:center;
  padding:14px 16px;background:rgba(20,20,28,.96);backdrop-filter:blur(6px);border-bottom:1px solid var(--border);}
body.light .topbar{background:rgba(255,255,255,.9);}
.actions{display:flex;gap:10px;align-items:center}
.btn{height:40px;padding:0 14px;border-radius:12px;border:1px solid var(--accent-2);background:#1d1b28;color:#cbb7ff;cursor:pointer}
.btn.ghost{background:transparent;color:var(--fg)}
.btn.icon{width:40px;padding:0}
.pill{display:flex;gap:10px;align-items:center;height:40px;padding:0 14px;border-radius:14px;background:#1d1b28;border:1px solid var(--accent-2)}
.emoji{filter:drop-shadow(0 0 8px rgba(122,82,255,.6))}
.menu{position:absolute;right:16px;top:66px;background:var(--bg-2);border:1px solid var(--accent-2);border-radius:14px;overflow:hidden;display:none}
.menu[aria-hidden="false"]{display:block}
.menu-item{display:block;width:220px;padding:12px 14px;text-align:left;border:none;background:transparent;color:var(--fg);cursor:pointer}
.menu-item:hover{background:rgba(122,82,255,.12)}

/* Version row */
.versionRow{display:flex;align-items:center;gap:8px;padding:8px 16px;border-bottom:1px solid var(--border)}
.dot{width:10px;height:10px;border-radius:50%}
.online{background:#32d74b}

/* Chat bubbles */
#chatScroll{min-height:40vh;max-width:920px;margin:0 auto;padding:18px 16px 80px;overflow-y:auto}
.bubble{max-width:760px;margin:8px 0;padding:12px 14px;border-radius:16px;border:1px solid var(--accent-2);background:var(--bg-2)}
.bubble.user{background:#1b1a27}
body.light .bubble.user{background:#f0efff}

/* Composer coll√© en bas */
#composer{position:sticky;bottom:0;z-index:10;display:flex;gap:10px;align-items:center;
  max-width:920px;margin:0 auto;padding:12px 16px 18px;background:linear-gradient(to top, rgba(14,14,18,1), rgba(14,14,18,.6), transparent);}
body.light #composer{background:linear-gradient(to top, rgba(246,246,251,1), rgba(246,246,251,.7), transparent);}
.plus{width:44px;height:44px;border-radius:12px}
.inputWrap{flex:1;display:flex;align-items:center;gap:8px;padding:6px 8px;border:1px solid var(--accent-2);border-radius:14px;background:var(--bg-2)}
#userInput{flex:1;height:36px;background:transparent;border:none;color:var(--fg);outline:none}
.send{width:48px;height:48px;border-radius:14px;background:var(--accent);color:white;border:none}
.send:disabled{opacity:.6;cursor:not-allowed}

/* Sheets & Modals */
.sheet,.modal{position:fixed;inset:0;display:none;align-items:flex-end;justify-content:center;background:rgba(0,0,0,.45)}
.sheet[aria-hidden="false"],.modal[aria-hidden="false"]{display:flex}
.sheet-card,.modal-card{width:min(680px,92vw);margin:0 12px 24px;background:var(--bg-2);border:1px solid var(--accent-2);border-radius:16px;padding:16px}
.sheet-title{font-weight:700;margin-bottom:10px}
.sheet-row{display:flex;gap:10px;flex-wrap:wrap}
.chip{border-radius:12px;border:1px solid var(--accent-2);background:#1d1b28;color:#cbb7ff;padding:10px 12px;cursor:pointer}
.btn.block{width:100%;margin-top:8px}
.modal-title{font-weight:800;font-size:18px;margin-bottom:8px}
.faq h4{margin:.8rem 0 .2rem}
.faq p{margin:.2rem 0 .8rem}
.packs{margin:.2rem 0 .6rem;padding-left:1rem}
.promo{margin:.3rem 0 1rem;color:#cbb7ff}

/* Hidden */
.hidden{position:absolute;left:-9999px;width:1px;height:1px;opacity:0}
