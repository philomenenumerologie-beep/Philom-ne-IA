<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PhilomÃ¨ne I.A.</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Clerk (Connexion) -->
  <script
    async
    crossorigin="anonymous"
    data-clerk-publishable-key="pk_test_xxx_REMPLACE_ICI_xxx"
    src="https://cdn.clerk.dev/clerk.js">
  </script>
</head>
<body class="theme-dark">
  <!-- Topbar -->
  <header id="topbar">
    <div class="topbar__left">
      <button id="btnLogin" class="chip">Connexion</button>
      <button id="btnBuy" class="chip">Acheter</button>
    </div>

    <div class="topbar__right">
      <div id="tokenBadge" class="gem">
        <span class="gem__icon">ğŸ’</span>
        <!-- Astuce: dÃ©marre Ã  2 000 (invitÃ©) -->
        <span id="tokenCount">2 000</span>
      </div>
      <button id="btnMenu" class="chip icon">â‰¡</button>
    </div>

    <!-- Dropdown menu -->
    <div id="menuDropdown" class="dropdown" hidden>
      <button id="toggleTheme" class="dropdown__item">ğŸŒ— Mode jour / nuit</button>
      <button id="openFaq" class="dropdown__item">â“ F.A.Q.</button>
    </div>
  </header>

  <!-- Version line -->
  <div id="versionLine">
    <span class="dot dot--on"></span>
    <span>PhilomÃ¨ne I.A. â€” <strong id="appVersion">version 1.2</strong></span>
  </div>

  <!-- Chat area -->
  <main id="chat">
    <div class="bubble bot">
      <div class="bubble__content">Bonjour ğŸ‘‹ Je suis PhilomÃ¨ne I.A., propulsÃ©e par GPT-5 Thinking.</div>
    </div>
    <div id="messages"></div>
  </main>

  <!-- Composer -->
  <footer id="composer">
    <button id="plusBtn" class="fab">+</button>

    <div class="inputWrap">
      <input id="userInput" type="text" placeholder="Ã‰crivez votre messageâ€¦" autocomplete="off" />
      <button id="micBtn" class="iconBtn" aria-label="Parler">ğŸ¤</button>
    </div>

    <button id="sendBtn" class="sendBtn" aria-label="Envoyer">â¤</button>

    <!-- Bottom sheet: Joindreâ€¦ -->
    <div id="attachSheet" class="sheet" hidden>
      <div class="sheet__title">Joindreâ€¦</div>
      <div class="sheet__row">
        <button id="pickLibrary" class="pill">ğŸ“· PhotothÃ¨que</button>
        <button id="takePhoto" class="pill">ğŸ“¸ Prendre une photo</button>
        <button id="pickFile" class="pill">ğŸ—‚ï¸ Choisir un fichier</button>
        <button id="closeSheet" class="pill pill--ghost">Fermer</button>
      </div>
      <input id="imgLibraryInput" type="file" accept="image/*" hidden />
      <input id="imgCameraInput" type="file" accept="image/*" capture="environment" hidden />
      <input id="docInput" type="file" hidden />
    </div>
  </footer>

  <!-- Generic modal -->
  <dialog id="modal" class="modal">
    <div class="modal__card">
      <div id="modalTitle" class="modal__title">Titre</div>
      <div id="modalBody" class="modal__body">Contenuâ€¦</div>
      <div class="modal__actions">
        <button id="modalClose" class="pill pill--ghost">Fermer</button>
      </div>
    </div>
  </dialog>

  <!-- FAQ modal -->
  <dialog id="faqModal" class="modal" data-kind="faq">
    <div class="modal__card">
      <div class="modal__title">ğŸ’¬ Foire aux questions</div>
      <div class="modal__body">
        <p><strong>Quelle IA utilise PhilomÃ¨ne ?</strong><br>
        PhilomÃ¨ne I.A. est propulsÃ©e par <strong>GPT-5 Thinking</strong>, la version la plus avancÃ©e.</p>

        <p><strong>Comment fonctionnent les tokens ?</strong><br>
        Chaque question + rÃ©ponse consomment des tokens selon leur longueur.
        Le diamant ğŸ’ affiche votre solde (dÃ©compte rÃ©el).</p>

        <p><strong>Packs disponibles</strong><br>
        ğŸ’ <strong>1 000 000</strong> tokens â†’ <strong>5 â‚¬</strong><br>
        ğŸ’ <strong>2 000 000</strong> tokens â†’ <strong>10 â‚¬</strong><br>
        ğŸ’ <strong>4 000 000</strong> tokens â†’ <strong>20 â‚¬</strong><br>
        ğŸ <strong>Premier achat : +50 % offerts</strong> (1,5 M Â· 3 M Â· 6 M)</p>

        <p><strong>Abonnement ?</strong><br>
        Non. Toute la puissance de GPT-5, <strong>sans abonnement</strong>.
        Vous payez uniquement ce que vous consommez.</p>

        <p><strong>ConfidentialitÃ©</strong><br>
        Vos Ã©changes restent privÃ©s.</p>
      </div>
      <div class="modal__actions">
        <button id="faqClose" class="pill pill--ghost">Fermer</button>
      </div>
    </div>
  </dialog>

  <!-- Modal Paiement (PLACÃ‰E AVANT scripts.js) -->
  <dialog id="payModal" class="modal">
    <div class="modal__card">
      <div class="modal__title">Acheter des tokens</div>
      <div class="modal__body">
        <div class="packsRow" style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px">
          <button class="pill" data-pack="5">5â‚¬ â€¢ 1M</button>
          <button class="pill" data-pack="10">10â‚¬ â€¢ 2M</button>
          <button class="pill" data-pack="20">20â‚¬ â€¢ 4M</button>
        </div>
        <div id="paypal-buttons" style="margin:8px 0 4px 0"></div>
        <div style="margin-top:6px;color:var(--text-dim);font-size:14px">
          ğŸ Premier achat : <strong>+50%</strong> de tokens offerts.
        </div>
      </div>
      <div class="modal__actions">
        <button id="payClose" class="pill pill--ghost">Fermer</button>
      </div>
    </div>
  </dialog>

  <!-- Footer technique -->
  <div id="techFooter">
    âš™ï¸ PropulsÃ© par <strong>GPT-5 Thinking</strong>
  </div>

  <!-- Ton JS en dernier (ou ajouter defer) -->
  <script src="scripts.js"></script>
</body>
</html>
